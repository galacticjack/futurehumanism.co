!function(){"use strict";const n="fh_exit_popup_shown",e=7,t=15e3,o=-100,i=3e3,r="https://futurehumanism.beehiiv.com/subscribe";function p(){return document.cookie.includes(n+"=true")||"true"===sessionStorage.getItem(n)}function s(){return window.location.pathname.includes("/tools/")||window.location.pathname.includes("/quiz")}function a(){if(p()||s())return;const t=function(){const n=document.createElement("div");n.id="exit-intent-popup",n.className="exit-popup-overlay",n.innerHTML='\n            <div class="exit-popup-modal">\n                <button class="exit-popup-close" aria-label="Close">&times;</button>\n                \n                <div class="exit-popup-content">\n                    <div class="exit-popup-icon"></div>\n                    <h2 class="exit-popup-title">Wait! Grab Your Free AI Playbook</h2>\n                    <p class="exit-popup-subtitle">50+ prompts, tool recommendations, and workflows used by 10,000+ professionals.</p>\n                    \n                    <ul class="exit-popup-benefits">\n                        <li>\n                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>\n                            Productivity prompts that actually work\n                        </li>\n                        <li>\n                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>\n                            Tool comparison cheat sheet\n                        </li>\n                        <li>\n                            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>\n                            Weekly AI insights newsletter\n                        </li>\n                    </ul>\n                    \n                    <form class="exit-popup-form" id="exit-popup-form">\n                        <input \n                            type="email" \n                            class="exit-popup-input" \n                            placeholder="Enter your email" \n                            required \n                            id="exit-popup-email"\n                        >\n                        <button type="submit" class="exit-popup-submit">\n                            Get Free Playbook\n                            <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>\n                        </button>\n                    </form>\n                    \n                    <p class="exit-popup-privacy">No spam. Unsubscribe anytime.</p>\n                </div>\n                \n                <button class="exit-popup-skip">No thanks, I\'ll figure it out myself</button>\n            </div>\n        ';const e=document.createElement("style");return e.textContent="\n            .exit-popup-overlay {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0, 0, 0, 0.85);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 99999;\n                opacity: 0;\n                visibility: hidden;\n                transition: opacity 0.3s ease, visibility 0.3s ease;\n                padding: 1rem;\n                backdrop-filter: blur(4px);\n            }\n            .exit-popup-overlay.active {\n                opacity: 1;\n                visibility: visible;\n            }\n            .exit-popup-modal {\n                background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);\n                border: 1px solid rgba(255, 255, 255, 0.1);\n                border-radius: 20px;\n                max-width: 440px;\n                width: 100%;\n                padding: 2rem;\n                transform: scale(0.9) translateY(20px);\n                transition: transform 0.3s ease;\n                position: relative;\n                box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);\n            }\n            .exit-popup-overlay.active .exit-popup-modal {\n                transform: scale(1) translateY(0);\n            }\n            .exit-popup-close {\n                position: absolute;\n                top: 1rem;\n                right: 1rem;\n                background: rgba(255, 255, 255, 0.1);\n                border: none;\n                color: #888;\n                cursor: pointer;\n                width: 32px;\n                height: 32px;\n                border-radius: 50%;\n                font-size: 1.25rem;\n                line-height: 1;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                transition: all 0.2s;\n            }\n            .exit-popup-close:hover {\n                background: rgba(255, 255, 255, 0.15);\n                color: #fff;\n            }\n            .exit-popup-content {\n                text-align: center;\n            }\n            .exit-popup-icon {\n                font-size: 3rem;\n                margin-bottom: 1rem;\n                animation: bounce 2s ease infinite;\n            }\n            @keyframes bounce {\n                0%, 100% { transform: translateY(0); }\n                50% { transform: translateY(-8px); }\n            }\n            .exit-popup-title {\n                font-size: 1.6rem;\n                font-weight: 700;\n                color: #fff;\n                margin-bottom: 0.5rem;\n                line-height: 1.25;\n            }\n            .exit-popup-subtitle {\n                color: #b0b0b0;\n                font-size: 0.95rem;\n                margin-bottom: 1.25rem;\n                line-height: 1.5;\n            }\n            .exit-popup-benefits {\n                list-style: none;\n                padding: 0;\n                margin: 0 0 1.5rem 0;\n                text-align: left;\n            }\n            .exit-popup-benefits li {\n                display: flex;\n                align-items: center;\n                gap: 0.6rem;\n                color: #e0e0e0;\n                font-size: 0.9rem;\n                margin-bottom: 0.6rem;\n            }\n            .exit-popup-benefits svg {\n                flex-shrink: 0;\n                color: #22c55e;\n            }\n            .exit-popup-form {\n                display: flex;\n                flex-direction: column;\n                gap: 0.75rem;\n            }\n            .exit-popup-input {\n                width: 100%;\n                padding: 0.9rem 1rem;\n                font-size: 1rem;\n                border: 2px solid #2a2a2a;\n                border-radius: 10px;\n                background: #141414;\n                color: #fff;\n                outline: none;\n                transition: border-color 0.2s;\n            }\n            .exit-popup-input:focus {\n                border-color: #1E90FF;\n            }\n            .exit-popup-input::placeholder {\n                color: #666;\n            }\n            .exit-popup-submit {\n                width: 100%;\n                padding: 0.9rem 1.25rem;\n                font-size: 1rem;\n                font-weight: 600;\n                border: none;\n                border-radius: 10px;\n                background: linear-gradient(135deg, #1E90FF 0%, #00BFFF 100%);\n                color: #fff;\n                cursor: pointer;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                gap: 0.5rem;\n                transition: transform 0.2s, box-shadow 0.2s;\n            }\n            .exit-popup-submit:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 8px 25px rgba(30, 144, 255, 0.35);\n            }\n            .exit-popup-submit:active {\n                transform: translateY(0);\n            }\n            .exit-popup-privacy {\n                font-size: 0.75rem;\n                color: #666;\n                margin-top: 0.75rem;\n            }\n            .exit-popup-skip {\n                background: none;\n                border: none;\n                color: #555;\n                font-size: 0.8rem;\n                cursor: pointer;\n                margin-top: 1rem;\n                width: 100%;\n                text-align: center;\n                transition: color 0.2s;\n            }\n            .exit-popup-skip:hover {\n                color: #888;\n            }\n            \n            /* Success state */\n            .exit-popup-success {\n                text-align: center;\n                padding: 1rem 0;\n            }\n            .exit-popup-success-icon {\n                font-size: 3rem;\n                margin-bottom: 1rem;\n            }\n            .exit-popup-success h3 {\n                color: #fff;\n                font-size: 1.4rem;\n                margin-bottom: 0.5rem;\n            }\n            .exit-popup-success p {\n                color: #b0b0b0;\n                font-size: 0.95rem;\n            }\n            \n            /* Mobile styles */\n            @media (max-width: 480px) {\n                .exit-popup-modal {\n                    padding: 1.5rem;\n                    margin: 0.5rem;\n                }\n                .exit-popup-title {\n                    font-size: 1.35rem;\n                }\n                .exit-popup-icon {\n                    font-size: 2.5rem;\n                }\n            }\n            \n            /* Reduced motion */\n            @media (prefers-reduced-motion: reduce) {\n                .exit-popup-overlay,\n                .exit-popup-modal {\n                    transition: opacity 0.2s ease;\n                }\n                .exit-popup-modal {\n                    transform: none;\n                }\n                .exit-popup-icon {\n                    animation: none;\n                }\n            }\n        ",document.head.appendChild(e),document.body.appendChild(n),n}();requestAnimationFrame(()=>{t.classList.add("active")}),function(){sessionStorage.setItem(n,"true");const t=new Date;t.setTime(t.getTime()+24*e*60*60*1e3),document.cookie=`${n}=true; expires=${t.toUTCString()}; path=/; SameSite=Lax`}(),"function"==typeof gtag&&gtag("event","exit_intent_shown",{event_category:"conversion",event_label:"ai_playbook"}),function(n){const e=n.querySelector(".exit-popup-close"),t=n.querySelector(".exit-popup-skip"),o=n.querySelector("#exit-popup-form"),i=n.querySelector("#exit-popup-email");n.querySelector(".exit-popup-modal");function p(){n.classList.remove("active"),setTimeout(()=>n.remove(),300)}e.addEventListener("click",p),t.addEventListener("click",()=>{"function"==typeof gtag&&gtag("event","exit_intent_skip",{event_category:"conversion"}),p()}),n.addEventListener("click",e=>{e.target===n&&p()}),document.addEventListener("keydown",function n(e){"Escape"===e.key&&(p(),document.removeEventListener("keydown",n))}),o.addEventListener("submit",e=>{e.preventDefault();const t=i.value.trim();t&&t.includes("@")&&("function"==typeof gtag&&gtag("event","exit_intent_convert",{event_category:"conversion",event_label:"ai_playbook",value:1}),localStorage.setItem("fh_subscriber_email",t),n.querySelector(".exit-popup-content").innerHTML='\n                <div class="exit-popup-success">\n                    <div class="exit-popup-success-icon"></div>\n                    <h3>You\'re in!</h3>\n                    <p>Check your inbox for the AI Playbook. Welcome to Future Humanism!</p>\n                </div>\n            ',n.querySelector(".exit-popup-skip").style.display="none",setTimeout(()=>{const n=`${r}?email=${encodeURIComponent(t)}&utm_source=exit_intent&utm_medium=popup`;window.location.href=n},2e3))}),setTimeout(()=>i.focus(),300)}(t)}function l(){p()||s()||setTimeout(()=>{window.innerWidth<768||"ontouchstart"in window?function(){let n=window.scrollY,e=0,t=!1;window.addEventListener("scroll",()=>{if(t||p())return;const r=window.scrollY,s=r-n;if(s<0){0===e&&(e=Date.now());const r=Date.now()-e;if(s<o&&r<i){const e=document.documentElement.scrollHeight-window.innerHeight;n>.5*e&&(t=!0,a())}}else e=0;n=r},{passive:!0})}():function(){let n=!1;document.addEventListener("mouseout",e=>{n||p()||e.clientY<10&&!e.relatedTarget&&!e.toElement&&(n=!0,a())})}()},t)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();